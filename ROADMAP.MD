# üöÄ Feuille de Route Strat√©gique ‚Äî CamerAtlas

## üéØ Vision du Projet

**CamerAtlas** est une application web backend d√©velopp√©e en **Spring Boot**, visant √† mod√©liser et exposer via une **API REST** les divisions administratives du Cameroun. L'objectif est de fournir une source de donn√©es fiable, compl√®te et facilement requ√™table.

---

## ‚úÖ Bilan de l'√âtat Actuel (Ce qui est d√©j√† fait)

Le projet dispose d√©j√† d'une base technique tr√®s solide et fonctionnelle. La plupart des fonctionnalit√©s fondamentales sont impl√©ment√©es.

| Module | Statut | D√©tails Techniques |
|:---|:---:|:---|
| **Hi√©rarchie Administrative** | ‚úÖ **Termin√©** | CRUD complet pour `Region`, `Departement`, `Arrondissement`, `Quartier`. |
| **Entit√©s Secondaires** | ‚úÖ **Termin√©** | CRUD complet pour `Autorite`, `Affectation`, `Delimitation`. |
| **Structure de l'API** | ‚úÖ **Termin√©** | Endpoints RESTful pour chaque entit√© avec validation des entr√©es (`@Valid`). |
| **DTOs & Mapping** | ‚úÖ **Termin√©** | Utilisation syst√©matique de DTOs (records) pour les cr√©ations et listages. Le mapping est fait dans les services ou via des classes d√©di√©es (`RegionMapper`). |
| **Gestion des M√©dias** | ‚úÖ **Partiel** | **Upload d'images fonctionnel** pour les `Region`. Les images sont stock√©es dans `uploads/regions`. |
| **Service des M√©dias** | ‚úÖ **Termin√©**| Un `MediaController` existe et **sert d√©j√† les images** via l'endpoint `GET /api/media/regions/{filename}`. |
| **Gestion des Erreurs** | ‚úÖ **Termin√©** | Centralis√©e et robuste via `ApplicationControllerAdvice`. |
| **Relations Hi√©rarchiques** | ‚úÖ **Termin√©** | Les DTOs de listing (ex: `RegionListerDTO`) incluent d√©j√† les enfants directs (ex: liste des d√©partements). |
| **Validation M√©tier** | ‚úÖ **Termin√©** | Des r√®gles complexes sont en place (ex: une autorit√© ne peut avoir qu'un poste actif, g√©r√© dans `AffectationService`). |

---

## üó∫Ô∏è Feuille de Route d'√âvolution

Bas√© sur les fondations existantes, voici une proposition de roadmap strat√©gique.

### üèÅ Phase 1 ‚Äî Robustesse et Fiabilit√©
**Objectif :** S√©curiser l'application, garantir sa stabilit√© et am√©liorer l'exp√©rience d√©veloppeur.

- [ ] **Int√©grer Spring Security :**
    -   [ ] Mettre en place une authentification par **JWT (JSON Web Tokens)**.
    -   [ ] Cr√©er les endpoints `/auth/login` et `/auth/register`.
    -   [ ] S√©curiser les routes `POST`, `PUT`, `DELETE` pour qu'elles n√©cessitent un r√¥le `ADMIN`.
- [ ] **Compl√©ter la couverture de tests :**
    -   [ ] √âcrire des tests unitaires pour les `Services` (logique m√©tier, cas limites).
    -   [ ] √âcrire des tests d'int√©gration pour les `Controllers` avec `MockMvc` pour valider les endpoints, les DTOs et les r√©ponses HTTP.
- [ ] **Documenter l'API :**
    -   [ ] Int√©grer **SpringDoc (OpenAPI 3)** pour g√©n√©rer une documentation Swagger UI interactive.
- [ ] **Mettre √† jour les images :**
    -   [ ] Dans `RegionService`, ajouter la logique pour **supprimer l'ancienne image** du disque lors de la mise √† jour d'une r√©gion avec une nouvelle image.

---

### üß± Phase 2 ‚Äî Compl√©tude Fonctionnelle
**Objectif :** √âtendre les fonctionnalit√©s existantes pour une API plus riche et performante.

- [ ] **Pagination et Filtrage :**
    -   [ ] Impl√©menter la pagination sur tous les endpoints `GET` qui retournent des listes (`Region`, `Departement`, etc.) en utilisant `Pageable`.
    -   [ ] Ajouter des param√®tres de filtrage (ex: `GET /api/division?regionId=1`).
- [ ] **G√©n√©raliser la gestion des m√©dias :**
    -   [ ] Permettre l'upload d'images pour les `Departement` et `Arrondissement`.
    -   [ ] Cr√©er les dossiers `uploads/departements` et `uploads/arrondissements`.
    -   [ ] √âtendre le `MediaController` pour servir ces nouvelles images.
- [ ] **Activer les op√©rations en cascade :**
    -   [ ] D√©commenter et finaliser la m√©thode `creerEnCascade` dans `RegionController`.
    -   [ ] L'impl√©menter pour les autres entit√©s o√π c'est pertinent.
- [ ] **Refactoring - Centraliser les Mappers :**
    -   [ ] Cr√©er des classes `DepartementMapper`, `ArrondissementMapper`, etc., sur le mod√®le de `RegionMapper` pour externaliser la logique de conversion des services.

---

### üöÄ Phase 3 ‚Äì Industrialisation et D√©ploiement
**Objectif :** Pr√©parer le projet pour la production.

- [ ] **Conteneurisation :**
    -   [ ] Cr√©er un `Dockerfile` pour l'application Spring Boot.
    -   [ ] Cr√©er un fichier `docker-compose.yml` pour lancer l'application et sa base de donn√©es MySQL facilement.
- [ ] **Mettre en place une CI/CD (Int√©gration Continue / D√©ploiement Continu) :**
    -   [ ] Cr√©er un workflow **GitHub Actions** qui, √† chaque `push` sur la branche `main` :
        1.  Compile le code.
        2.  Lance les tests.
        3.  Construit l'image Docker.
        4.  (Optionnel) Pousse l'image sur un registre (Docker Hub, GHCR).
- [ ] **Mettre √† jour le `README.md` principal :**
    -   [ ] Ajouter les instructions de lancement via Docker.
    -   [ ] Inclure le lien vers la documentation Swagger.

---

### üèõÔ∏è Phase 4 ‚Äì API Collaborative
**Objectif :** Permettre √† des utilisateurs authentifi√©s de contribuer √† l'enrichissement des donn√©es via un syst√®me de suggestions.

- [ ] **Mettre en place le r√¥le `CONTRIBUTEUR` :**
    -   [ ] √âtendre Spring Security pour g√©rer un r√¥le `CONTRIBUTEUR` en plus du r√¥le `ADMIN`.
    -   [ ] Mettre √† jour l'endpoint `/auth/register` pour qu'il assigne le r√¥le `CONTRIBUTEUR` par d√©faut.
- [ ] **D√©velopper le syst√®me de suggestions :**
    -   [ ] Cr√©er les entit√©s JPA (ex: `Suggestion`) pour stocker les propositions de changement (type, entit√© concern√©e, contenu sugg√©r√©).
    -   [ ] D√©velopper les services pour cr√©er et g√©rer le cycle de vie des suggestions (en attente, approuv√©e, rejet√©e).
- [ ] **Cr√©er les endpoints pour les contributeurs :**
    -   [ ] Impl√©menter les routes `POST`, `PUT`, `DELETE` sur `/api/suggestions/{entity}` pour permettre aux contributeurs de soumettre leurs propositions.
- [ ] **Cr√©er les endpoints pour les administrateurs :**
    -   [ ] Impl√©menter les routes pour lister (`GET /api/admin/suggestions`), approuver (`POST /api/admin/suggestions/{id}/approve`) et rejeter (`POST /api/admin/suggestions/{id}/reject`) les suggestions.

---

### üí° Phase 5 ‚Äì √âvolutions Futures (Optionnel)

- [ ] **Recherche Avanc√©e :** Impl√©menter une recherche textuelle sur plusieurs champs avec Spring Data JPA Specifications.
- [ ] **Audit :** Ajouter des champs `dateCreation`, `dateModification` aux entit√©s pour tracer les changements.
- [ ] **Cache :** Mettre en place un cache (ex: avec `Caffeine` ou `Redis`) sur les donn√©es peu volatiles pour am√©liorer les performances.
- [ ] **Frontend :** D√©velopper une interface utilisateur (React, Vue.js, Angular) pour consommer l'API.