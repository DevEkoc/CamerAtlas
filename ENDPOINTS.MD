# Liste des Endpoints de l'API CamerAtlas (Vision Cible)

Ce document d√©taille la structure cible des endpoints de l'API, en accord avec la vision d'une API s√©mantique et hi√©rarchique.

---

## üîë R√¥les d'Acc√®s

*   **Public** : Acc√®s en lecture seule √† toutes les donn√©es publi√©es.
*   **CONTRIBUTEUR** : Peut soumettre des suggestions d'ajout, de modification ou de suppression.
*   **ADMIN** : Contr√¥le total sur les donn√©es et la validation des suggestions.

---

## ü§ñ Endpoints d'Authentification

| M√©thode | URI | Acc√®s | Description |
|:---|:---|:---:|:---|
| `POST` | `/api/auth/login` | **Public** | Connecte un utilisateur (Contributeur ou Admin) et retourne un token JWT. |
| `POST` | `/api/auth/register` | **Public** | Enregistre un nouvel utilisateur avec le r√¥le `CONTRIBUTEUR`. |

---

## üåç Endpoints de Consultation (Acc√®s Public)

Ces endpoints permettent une navigation hi√©rarchique et retournent des entit√©s s√©mantiques compl√®tes.

| M√©thode | URI | Description |
|:---|:---|:---|
| `GET` | `/api/media/{...}` | R√©cup√®re un fichier m√©dia (image). |
| `GET` | `/api/regions` | Liste toutes les r√©gions (informations de base). |
| `GET` | `/api/regions/{id}` | R√©cup√®re une r√©gion (donn√©es compl√®tes, incluant gouverneur, fronti√®res et liste des d√©partements). |
| `GET` | `/api/regions/{id}/divisions` | R√©cup√®re la liste des d√©partements d'une r√©gion. |
| `GET` | `/api/divisions/{id}` | R√©cup√®re un d√©partement (donn√©es compl√®tes, incluant pr√©fet, fronti√®res et liste des arrondissements). |
| `GET` | `/api/divisions/{id}/subdivisions` | R√©cup√®re la liste des arrondissements d'un d√©partement. |
| `GET` | `/api/subdivisions/{id}` | R√©cup√®re un arrondissement (donn√©es compl√®tes, incluant sous-pr√©fet et liste des quartiers). |
| `GET` | `/api/subdivisions/{id}/neighborhoods`| R√©cup√®re la liste des quartiers d'un arrondissement. |
| `GET` | `/api/authorities/{id}` | R√©cup√®re les informations publiques d'une autorit√©. |

---

## üîí Endpoints d'Administration (R√¥le ADMIN)

Endpoints pour la gestion directe des donn√©es et la consultation de listes compl√®tes.

| M√©thode | URI | Description |
|:---|:---|:---|
| `POST` | `/api/admin/regions` | Cr√©e une r√©gion. |
| `PUT` | `/api/admin/regions/{id}` | Modifie une r√©gion. |
| `DELETE`| `/api/admin/regions/{id}` | Supprime une r√©gion. |
| `GET` | `/api/admin/divisions` | **(Admin)** Liste tous les d√©partements (pour administration). |
| `POST` | `/api/admin/divisions` | Cr√©e un d√©partement. |
| `PUT` | `/api/admin/divisions/{id}` | Modifie un d√©partement. |
| `DELETE`| `/api/admin/divisions/{id}` | Supprime un d√©partement. |
| `GET` | `/api/admin/subdivisions` | **(Admin)** Liste tous les arrondissements. |
| `POST` | `/api/admin/subdivisions` | Cr√©e un arrondissement. |
| `PUT` | `/api/admin/subdivisions/{id}` | Modifie un arrondissement. |
| `DELETE`| `/api/admin/subdivisions/{id}` | Supprime un arrondissement. |
| `GET` | `/api/admin/neighborhoods` | **(Admin)** Liste tous les quartiers. |
| `POST` | `/api/admin/neighborhoods` | Cr√©e un quartier. |
| `PUT` | `/api/admin/neighborhoods/{id}` | Modifie un quartier. |
| `DELETE`| `/api/admin/neighborhoods/{id}` | Supprime un quartier. |
| `GET` | `/api/admin/authorities` | **(Admin)** Liste toutes les autorit√©s. |
| `POST` | `/api/admin/authorities` | Cr√©e une autorit√©. |
| `PUT` | `/api/admin/authorities/{id}` | Modifie une autorit√©. |
| `DELETE`| `/api/admin/authorities/{id}` | Supprime une autorit√©. |
| `GET` | `/api/admin/suggestions` | **(Admin)** Liste toutes les suggestions en attente. |
| `POST` | `/api/admin/suggestions/{id}/approve` | Approuve une suggestion. |
| `POST` | `/api/admin/suggestions/{id}/reject` | Rejette une suggestion. |

---

## ‚úçÔ∏è Endpoints de Contribution (R√¥le CONTRIBUTEUR)

Endpoints pour proposer des changements.

| M√©thode | URI | Description |
|:---|:---|:---|
| `POST` | `/api/suggestions/regions` | Sugg√®re la cr√©ation d'une r√©gion. |
| `PUT` | `/api/suggestions/regions/{id}` | Sugg√®re la modification d'une r√©gion. |
| `DELETE`| `/api/suggestions/regions/{id}` | Sugg√®re la suppression d'une r√©gion. |
| `POST` | `/api/suggestions/divisions` | Sugg√®re la cr√©ation d'un d√©partement. |
| `PUT` | `/api/suggestions/divisions/{id}` | Sugg√®re la modification d'un d√©partement. |
| `DELETE`| `/api/suggestions/divisions/{id}` | Sugg√®re la suppression d'un d√©partement. |
| `...` | `...` | (et ainsi de suite pour les autres entit√©s) |